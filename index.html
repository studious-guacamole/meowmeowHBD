<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>èŠ­é­¯æ¯”çš„è€å…¬â¤ï¸</title>
<style>
/* é é¢åŸºç¤æ¨£å¼ */
body {
  margin:0; height:100vh; font-family:Arial,sans-serif;
  background:#000; color:white; display:flex;
  justify-content:center; align-items:center; overflow:hidden;
}
#content {text-align:center; position:relative; z-index:2;}
img.main { width:300px; height:300px; object-fit:cover; border-radius:16px; margin-bottom:20px; }
h1 {font-size:22px; margin-bottom:30px; line-height:1.4;}

/* æŒ‰éˆ•å€ */
.buttons { display: flex; flex-direction: column; align-items: center; gap: 15px; min-height: 100px; }
.btn-row { display: flex; justify-content: center; gap: 20px; }
button { font-size:18px; padding:10px 30px; border:none; border-radius:30px; cursor:pointer; user-select:none; transition: 0.3s; }
#yes {background:hotpink; color:white;}
#no {background:gray; color:white; position: relative; z-index: 10;}
#hint-text { color: #ffb6c1; font-size: 14px; opacity: 0; transition: opacity 1s; height: 20px; }

/* ç…™ç«å¾Œçš„è¼ªæ’­ */
#slideshow {
  position:fixed; inset:0; display:none; flex-direction: column;
  justify-content:center; align-items:center; z-index:3;
}
#slideshow img.slide {
  width: 400px; height: 500px; object-fit: cover;
  border: 5px solid white; border-radius:20px; box-shadow: 0 0 20px rgba(255,105,180,0.5);
}

/* Netflix é©šå–œæŒ‰éˆ• */
#netflix-btn {
  margin-top: 30px; background: #e50914; color: white;
  padding: 15px 30px; font-size: 18px; border: none; border-radius: 5px;
  cursor: pointer; opacity: 0; transition: opacity 2s; z-index: 4;
}

/* Netflix é€å­—é–‹å ´å‹•ç•« */
#netflix-screen {
  position: fixed; inset: 0; background: #000; z-index: 9999;
  display: none; flex-direction: column; justify-content: center; align-items: center;
}
.netflix-text-logo { display: flex; gap: 8px; transition: transform 1.5s ease-in; }
.letter {
  font-size: 70px; font-weight: 900; color: #e50914;
  font-family: 'Arial Black', sans-serif; opacity: 0;
  transform: scale(1.5); filter: blur(10px);
}
.letter.animate { animation: letter-pop 0.4s ease-out forwards; }
.zoom-out { transform: scale(15); opacity: 0; filter: blur(15px); }

@keyframes letter-pop {
  to { opacity: 1; transform: scale(1); filter: blur(0); }
}

/* Netflix ä½¿ç”¨è€…ä»‹é¢ */
.user-picker { display: none; text-align: center; color: white; }
.netflix-carousel { width: 100%; max-width: 500px; height: 150px; margin-bottom: 40px; position: relative; overflow: hidden; margin-left:auto; margin-right:auto; }
.netflix-carousel img { width: 100%; height: 100%; object-fit: contain; position: absolute; left: 0; top: 0; opacity: 0; transition: opacity 1s; }
.netflix-carousel img.active { opacity: 1; }
.user-list { display: flex; justify-content: center; gap: 30px; margin-top: 30px; }
.avatar { width: 110px; height: 110px; border-radius: 4px; display: flex; align-items: center; justify-content: center; font-size: 50px; border: 3px solid transparent; transition: 0.2s; cursor: pointer; }
.avatar:hover { border: 3px solid white; }

canvas {position:fixed; inset:0; display:none; z-index:1;}
</style>
</head>
<body>

<div id="content">
  <img src="photo.jpg" class="main" />
  <h1>Oh My Dear Jefferson~<br>Will you let me be with you on every birthday<br>F O R E V E R ?</h1>
  <div class="buttons">
    <div class="btn-row">
      <button id="yes">Yes</button>
      <button id="no">No</button>
    </div>
    <div id="hint-text">Looks like this NO is feeling a little shy~ğŸ˜åæ­£ä½ ä¹Ÿé€ƒä¸å‡ºæˆ‘çš„é­”æŒäº†</div>
  </div>
</div>

<canvas id="fireworks"></canvas>

<div id="slideshow">
  <img id="slideImage" class="slide" src="photo1.jpg" />
  <button id="netflix-btn">èˆ‡ä½ çš„å¦»å­ä¸€åŒ Netflix and Chill ğŸ¿</button>
</div>

<div id="netflix-screen">
  <div id="netflix-intro">
    <div class="netflix-text-logo" id="logo-container">
      <span class="letter">N</span><span class="letter">E</span><span class="letter">T</span><span class="letter">F</span><span class="letter">L</span><span class="letter">I</span><span class="letter">X</span>
    </div>
  </div>
  <div class="user-picker" id="user-picker-ui">
    <div class="netflix-carousel" id="poster-carousel">
      <img src="poster1.jpg" class="active">
      <img src="poster2.jpg">
      <img src="poster3.jpg">
    </div>
    <h2>Who's watching?</h2>
    <div class="user-list">
      <div class="user-item" onclick="alert('Enjoy your night, Jefferson! â¤ï¸')">
        <div class="avatar" style="background: #e50914;">J</div>
        <p>Jefferson</p>
      </div>
      <div class="user-item" onclick="alert('Happy Birthday! â¤ï¸')">
        <div class="avatar" style="background: #5d9cec;">W</div>
        <p>Your Wife</p>
      </div>
    </div>
  </div>
</div>

<script>
const romanticColors = ["rgba(255,255,255,0.9)", "rgba(255,182,193,0.9)", "rgba(173,216,230,0.9)", "rgba(216,191,216,0.9)"];
const yesBtn = document.getElementById("yes"), noBtn = document.getElementById("no"), netflixBtn = document.getElementById("netflix-btn"), hintText = document.getElementById("hint-text");
let noIsYes = false, chasing = false, hasStartedChasing = false, chaseCount = 0, chaseTimer = null;

// No é€ƒè·‘
function moveNoRandomly() {
  const rect = noBtn.getBoundingClientRect();
  noBtn.style.left = Math.random() * (window.innerWidth - rect.width - 50) + "px";
  noBtn.style.top = Math.random() * (window.innerHeight - rect.height - 50) + "px";
  if(++chaseCount >= 2) hintText.style.opacity = "1";
}
document.addEventListener("mousemove", (e)=>{
  if(noIsYes) return;
  const rect = noBtn.getBoundingClientRect();
  const dist = Math.hypot(e.clientX-(rect.left+rect.width/2), e.clientY-(rect.top+rect.height/2));
  if(dist < 130){
    if(!hasStartedChasing) { hasStartedChasing = true; noBtn.style.position = "fixed"; moveNoRandomly(); }
    if(!chasing){ chasing = true; chaseTimer = setInterval(moveNoRandomly, 120); }
  } else if(dist > 200 && chasing){ clearInterval(chaseTimer); chasing = false; }
});
noBtn.addEventListener("click", ()=>{
  if(!noIsYes){ noIsYes = true; noBtn.textContent = "Yes"; noBtn.style.background = "hotpink"; hintText.style.opacity = "0"; clearInterval(chaseTimer); noBtn.style.position = "static"; }
});

yesBtn.addEventListener("click", startMagic);
noBtn.addEventListener("click", ()=>{ if(noIsYes) startMagic(); });

function startMagic(){
  document.getElementById("content").style.display="none";
  startFireworks();
  startSlideshow();
  setTimeout(() => { netflixBtn.style.opacity = "1"; }, 5000);
}

// ç…™ç«
const canvas = document.getElementById("fireworks"), ctx = canvas.getContext("2d");
let particles=[];
function startFireworks(){
  canvas.width=window.innerWidth; canvas.height=window.innerHeight; canvas.style.display="block";
  setInterval(()=>{
    const cx = Math.random()*canvas.width, cy = Math.random()*canvas.height;
    for(let i=0;i<200;i++){
      const angle = Math.random()*Math.PI*2, speed = Math.random()*8+2;
      particles.push({x:cx, y:cy, vx:Math.cos(angle)*speed, vy:Math.sin(angle)*speed, life:140, color:romanticColors[Math.floor(Math.random()*romanticColors.length)]});
    }
  },800);
  animate();
}
function animate(){
  ctx.fillStyle="rgba(0,0,0,0.15)"; ctx.fillRect(0,0,canvas.width,canvas.height);
  particles.forEach((p,i)=>{ p.x+=p.vx; p.y+=p.vy; p.life--; ctx.fillStyle=p.color; ctx.beginPath(); ctx.arc(p.x,p.y,3,0,Math.PI*2); ctx.fill(); if(p.life<=0) particles.splice(i,1); });
  requestAnimationFrame(animate);
}

// è¼ªæ’­
function startSlideshow(){
  const img=document.getElementById("slideImage"), photos=["photo1.jpg","photo2.jpg","photo3.jpg","photo4.jpg","photo5.jpg","photo6.jpg"];
  let index=0; document.getElementById("slideshow").style.display="flex";
  setInterval(()=>{ index=(index+1)%photos.length; img.src=photos[index]; },500);
}

// Netflix é€å­—å‹•ç•«é‚è¼¯
netflixBtn.addEventListener("click", () => {
  document.getElementById("netflix-screen").style.display = "flex";
  const letters = document.querySelectorAll(".letter");
  letters.forEach((l, i) => {
    setTimeout(() => { l.classList.add("animate"); }, i * 250); // æ¯å€‹å­—é–“éš” 0.25 ç§’
  });

  setTimeout(() => {
    document.getElementById("logo-container").classList.add("zoom-out");
  }, 2200); // å…¨éƒ¨å­—è·‘å®Œå¾Œç¸®æ”¾

  setTimeout(() => {
    document.getElementById("netflix-intro").style.display = "none";
    document.getElementById("user-picker-ui").style.display = "block";
    startPosterCarousel();
  }, 3500);
});

function startPosterCarousel() {
  const posters = document.querySelectorAll("#poster-carousel img");
  let pIndex = 0;
  setInterval(() => {
    posters[pIndex].classList.remove("active");
    pIndex = (pIndex+1)%posters.length;
    posters[pIndex].classList.add("active");
  }, 3000);
}
</script>
</body>
</html>
